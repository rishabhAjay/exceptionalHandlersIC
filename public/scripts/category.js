var AccImgObj = {
  "../images/img1.jpeg": ["covers", 100, "Iphone 11 cover", "Pidgeot Transparent Bumper Back (6.1 inch) Case","NF", 1],
  "../images/head1.jpg": ["headphones", 200, "YAMAY Bluetooth Headphones", "Earphones come with Bluetooth version 5.0 with a range of 10 metres","NF", 2],
  "../images/char2.jpg": ["chargers", 300, "Android charger", "Portable and sleek BoxCod Quick Charge 3.0 USB","NF", 3],
  "../images/head2.jpg": ["headphones", 50, "Microsoft surface headphones", "Wireless Noise Cancelling Over-The-Ear with Cortana - Light Gray","NF", 4],
  "../images/img2.jpeg": ["covers", 60, "Iphone mobile phone case", "Gripp Dazzle Back Cover Case For Apple Iphone 11 Pro (Gold)","NF", 5],
  "../images/img3.jpg": ["covers", 130, "OPPOA37 mobile phone case", "Silicone anti-drop a37m soft shell a37t protective cover","NF", 6],
  "../images/head3.jpg": ["headphones", 60, "Pink wireless headphones", "Noise Shots XO Wireless Bluetooth Earbuds with Great Call Quality","NF", 7],
  "../images/char3.jpg": ["chargers", 320, "USB-C","24-pin USB connector system with a rotationally symmetrical connector","NF", 8],
  "../images/head4.jpeg": ["headphones", 546, "Montblanc headphones", "Comfortable companions for longer meeting days and sound quality","NF", 9],
  "../images/img4.jpg": ["covers", 466, "Iphone 12 phone case aesthetic", "Retro Collage Compatible with iPhone 6 6s 7 8 X Xs Xr 11 12 Pro Max","NF", 10],
  "../images/img5.jpg": ["covers", 67, "Aesthetic case for gold iphone", "Casery Black & Gold Agate","NF", 11],
  "../images/head5.jpg": ["headphones", 77, "Mode eq marshall", "Offers huge sound in a small package","NF", 12],
  "../images/head6.jpg": ["headphones", 54, "Dell wireless headphones", "YTF86 USB Headphones (Black)","NF", 13],
  "../images/img6.jpg": ["covers", 75, "Pixel 3axl wallet case", "CH-IC PU Leather Folding Flip Shockproof Protective Cell Shell","NF", 14],
  "../images/char4.jpg": ["chargers", 45, "Original iphone 7 plus charger", "Wall Charger With Data Sync And Cable for Apple iPhone","NF",15],
  "../images/head7.jpeg": ["headphones", 67, "Oppo Vivo Wireless Headphone", "Sweatproof Neckband Bluetooth Headset (Black)","NF", 16],
  "../images/img7.jpg": ["covers", 34, "Google pixel 4a flip case", "Protection with a kickstand. Size: 5.9 x 3 x 0.49 inches | Weight: 1.7 ounces","NF", 17],
  "../images/img8.jpg": ["covers", 67, "Kowauri Google Pixel 4a Case", "Leather Wallet Case Classic Design","F", 18],
  "../images/img9.jpg": ["covers", 34, "Iphone xr phone cases", "Light Blue Liquid Silicone Case with Soft Microfiber Lining","NF", 19],
  "../images/img10.jpeg": ["covers", 53, "Iphone x blue phone case", "Compatible Devices : apple; Model : i phone x; Material Type : Silicone","NF", 20],
  "../images/char5.jpg": ["chargers", 76, "Gji phantom professional charger","Various colors stereo earphone for mp3/mp4, CD, PC/laptop& mobile","NF", 21],
  "../images/head13.jpg": ["headphones", 46," Shensen Headphones", "Various colors stereo earphone for mp3/mp4, CD, PC/laptop","NF", 22],
  "../images/img11.jpg": ["covers", 53, "Totallee iPhone 11 Pro Leather Case", " Ultra Slim & Thin Premium Leather Luxury, Silicone Phone Case","NF", 23],
  "../images/img12.jpg": ["covers", 546, "Oppo a31 cover", "Multicolor lord mahadev shiva shiv ji mahakal back cover case","NF",24],
  "../images/head12.jpg": ["headphones", 535, "Helena Krausson (albio52)", "Ornate headphones that are bedazzled with glamorous stones","F",25],
  "../images/img13.jpg": ["covers", 53, "Samsung Galaxy A71 Phone Case(Orange)", "Glitter Sparkle Bling Luxury Case","NF", 26],
  "../images/char6.jpg": ["chargers", 46, "Typo marble wireless portable charger", "It comes with travel pouch, micro USB cable, and 18-month warranty","NF", 27],
  "../images/head11.jpg": ["headphones", 45, "KEEKA KE 900 Macaroon Headphone", "Noise Cancelling fashionable headphone","NF", 28],
  "../images/img14.jpg": ["covers", 53, "Samsung Galaxy A71 Phone Case(purple)", "Glitter Sparkle Bling Luxury Case","F", 29],
  "../images/img15.jpg": ["covers", 65, "Case for Realme C3", "Use this Flowery Case to protect your phone from scratches","NF", 30],
  "../images/head10.jpg": ["headphones", 436, "BaubleBar Helios Headphone", "Stylish headphone with noice cancelling","NF", 31],
  "../images/img16.jpg": ["covers", 54, "Lspcase Samsung Galaxy Tab cover", "10.1 Inch SM-T510 / SM-T515 (2019) Case PU Leather Flip Cover","NF", 32],
  "../images/img17.jpg": ["covers", 76, "Iphone 12 mini screen protector tempered glass", "Lithium Aluminosilicate provides upgraded strength and flexibility","NF", 33],
  "../images/head9.jpg": ["headphones", 56, "MDI Tone+ Bluetooth earphone", "One touch incoming call receive functions from up to 10 feet distance","NF", 34],
  "../images/img18.jpg": ["covers", 87, "Xiaomi redmi 9 cover", "3d silicone fruit case","NF", 35],
  "../images/char1.jpg": ["chargers", 65, "Samsung cell charger", "Type C Cable Fast USB C Charging 6FT 3Pack Power Cord","NF", 36],
  "../images/head8.jpg": ["headphones", 56, "Beats Solo 3(Rose gold)", "Fast Fuel, 5 minutes of charging gets you 3 hours of playback","NF", 37],
};

const accImgArray = Object.keys(AccImgObj);
const accAttriArray = Object.values(AccImgObj);

var EleImgObj = {
  "../images/tv1.jpg": ["television", 3000, "UHD 4K Curved Smart TV ", "A powerful processor optimizes your TV's performance with 4K picture quality","F"],
  "../images/desk1.jpg": ["desktop", 4000, "HP Desktop Core 2 Duo", "Hard Drive Capacity: 1TB, 320GB , 500GB. Condition: New. Processor: i3, i5, i7. Internal Memory (ROM): 4 GB","NF"],
  "../images/pho1.jpg": ["mobile", 1000, "Apple iPhone 12 Pro Max", "6.7' display, Apple A14 Bionic chipset, 3687 mAh battery, 512 GB storage","NF"],
  "../images/tv2.jpg": ["television", 4000, "Realme smart android tv", "Premium Bezel-less design with bezels, Stunning Picture Quality and Powerful Processor","NF"],
  "../images/tv3.jpg": ["television", 3990, "LG 24' LED TV", "Screen size - 24'|Screen technology - PICTURE QUALITY| Motion rate - 50 Hz","NF"],
  "../images/lap1.jpg": ["laptop", 3300, "Lenovo ip slim 3i", "39.62cms, Platinum Grey|Model Number : 81WB00ANIN","F"],
  "../images/ref3.jpg": ["refrigerator", 6000, "Kimchi refrigerator", "It has a massive screen that runs apps, browses the web, monitors your groceries, and much more","NF"],
  "../images/ref1.jpg": ["refrigerator", 6000, "Samsung refrigerator", "260 litres capacity that can easily work out single or multiple people","NF"],
  "../images/lap2.jpg": ["laptop", 3300, "HP envy 13", "i7 processor; Windows 10 Home Single Language 64","NF"],
  "../images/desk2.jpg": ["desktop", 4000, "IMac Apple", "M1 chip comes with configurable memory, storage, and more. Available in 7 colors","NF"],
  "../images/desk3.jpg": ["desktop", 4000, "Imac noir", "Retina 5K Display Z0VT-MRR12-20 B&H","NF"],
  "../images/ref2.jpg": ["refrigerator", 6000, "Samsung Food Showcase" ,"RF28R6301SR French Door with Twin Cooling","NF"],
  "../images/tv4.jpg": ["television", 4100, "LG 4K UHD Smart LED TV", "Stunning Picture Quality and Powerful Processor","NF"],
  "../images/desk3.jpg": ["desktop", 4000, "Noir - iMac", "Retina 5K, 27 pouces","NF"],
  "../images/pho3.jpg": ["mobile", 2200,"LAVA Z92", "3 GB RAM, 32 GB ROM, 3260 mAh battery, 13 MP back camera" ,"NF"],
  "../images/tv5.jpeg": ["television", 3990, "Realme smart tv 32", "80 cm (32 inch) HD Ready LED Smart Android TV","NF"],
  "../images/lap3.jpg": ["laptop", 3300, "Mac Apple",  "Processor-i7 | Memory Size (RAM) - 4 GB | Internal Memory (ROM) -	500 GB","NF"],
  "../images/desk4.jpg": ["desktop", 4000, "Lenovo ThinkCenter Desktop", "6-Core, 12MB Cache, 3.1GHz to 4.5GHz, 65W, 2.5 inch 1TB 7200rpm SATA Hard Disk Drive","NF"],
  "../images/ref4.jpg": ["refrigerator", 6000, "Hitachi Refrigerator Bottom Freezer", "Large-capacity single door, smart and extendable compartment for fresh vegetables","F"],
};

const eleImgArray = Object.keys(EleImgObj);
const eleAttriArray = Object.values(EleImgObj);

var EntImgObj = {
  "../images/inst1.jpg": ["instrument", 600, "Banjira Pro Tabla", "Nickel Plated Brass Bayan and 5.50' Dayan","F"],
  "../images/toy3.jpg": ["toy", 250, "Noodley Rainbow Teddy Bear", "16 inch LED Stuffed Light-Up Toy","NF"],
  "../images/book2.jpg": ["book", 110, "A Game of Thrones", "Set of 6 Books, English, Paperback, Martin George R.R.","NF"],
  "../images/toy4.jpg": ["toy", 250, "Kids Car", "Suitable for Boys & Girls(1-3 Years)","NF"],
  "../images/book7.jpg": ["book", 100, "2 States", "This fun-filled love story that gets complicated when the question of marriage comes up","F"],
  "../images/inst4.jpg": ["instrument", 500, "Asago 4 String Guitar", "Good sound quality and good wooden finishing","NF"],
  "../images/toy1.jpeg": ["toy", 100, "Little's Junior Stacking Ring Toys", "Plastic Material | Multicolor | Age: 6+ Months","NF"],
  "../images/book3.jpg": ["book", 100, "Famous Five", "Paperback by Enid Blyton, Dimensions: 19.5 x 13 x 4.3cm","NF"],
  "../images/inst2.jpg": ["instrument", 600, "Eucalyptus Wooden Veena", "Made of eucalyptus wood and non-toxic material, Dimension: (L x B x H): 5 x 5 x 16 cm Brown","NF"],
  "../images/toy2.jpg": ["toy", 150, "Candywood kid's phone", "Suitable for kids(1-4 Years)","NF"],
  "../images/book4.jpg": ["book", 200, "The Little Prince", "Language : English, Item Weight : 850 g, Dimensions : 24 x 18 x 1 cm","NF"],
  "../images/book5.jpeg": ["book", 160, "World Famous Adventure Stories", "Paperback, Manoj Publications Editorial Board","NF"],
  "../images/book6.jpg": ["book", 290, "A Brief History of Time", "This fully updated edition is enriched with a new Introduction by Professor Hawking","NF"],
  "../images/inst3.jpg": ["instrument", 900, "Saraswati Veena", "Material: Wooden, Color: Brown, No Of Strings: 10","NF"],
  "../images/book1.jpg": ["book", 300, "Best of Childrenâ€™s Classics", "Set of 5 Books","NF"],
  "../images/inst5.jpg": ["instrument", 680, "SG Musical Bamboo Flute", "Fine Quality, Bamboo Flute,  G Scale","F"],
};

const entImgArray = Object.keys(EntImgObj);
const entAttriArray = Object.values(EntImgObj);

const accContainer = document.getElementById("accPic-container");
const eleContainer = document.getElementById("elePic-container");
const entContainer = document.getElementById("entPic-container");

function createContainer(i, imgArray, attriArray, container) {
  const parentDiv = document.createElement("figure");
  const figure = document.createElement("img");
  const childDiv = document.createElement("div");
  const productDesc = document.createElement("p");
  const productName = document.createElement("p");
  const priceTag = document.createElement("p");
  const cartButton = document.createElement("button");

  container.appendChild(parentDiv);
  parentDiv.classList.add(
    "itemBox",
    "col-lg-4",
    "col-md-4",
    "col-sm-4",
    "col-xs-4",
    "card",
    "filter",
    attriArray[i][0],
    attriArray[i][4],
    attriArray[i][1]
  );

  figure.src = imgArray[i];
  figure.alt = attriArray[i][0];
  figure.classList.add("img-responsive");
  priceTag.innerText = "$" + attriArray[i][1];
  productName.innerText = attriArray[i][2];
  productDesc.innerText = attriArray[i][3];
  cartButton.innerText = "Go to Product";
  childDiv.classList.add("card-body");
  priceTag.classList.add("img-price" ,"card-text");
  cartButton.classList.add("btn", "mainpage-btn", "btn-style");
  productName.classList.add("productName");
  productDesc.classList.add("productDesc");

  parentDiv.appendChild(figure);
  parentDiv.appendChild(childDiv);
  childDiv.appendChild(productName);
  childDiv.appendChild(productDesc);
  childDiv.appendChild(priceTag);
  childDiv.appendChild(cartButton);
}

for (var i = 0; i < accImgArray.length; i++) {
  createContainer(i, accImgArray, accAttriArray, accContainer);
}

for (var i = 0; i < eleImgArray.length; i++) {
  createContainer(i, eleImgArray, eleAttriArray, eleContainer);
}

for (var i = 0; i < entImgArray.length; i++) {
  createContainer(i, entImgArray, entAttriArray, entContainer);
}

function valueSender(a) {
  localStorage.setItem("myValue", a);
  window.location.href = "/accessories";
}

function myFunction() {
  var x = document.getElementById("myTopnav");
  var y = document.getElementById("active");
  if (x.className === "topnav") {
    x.className += " responsive";
    y.className = "";
  } else {
    x.className = "topnav";
    y.className = "active";
  }
}

var b = localStorage.getItem("myValue");
console.log(b);

//Responsive alignment
function responsiveAlignment(elemId) {
  if (window.innerWidth < 610){
    document.getElementById(elemId).style.display = "inline";
  }
  else {
    document.getElementById(elemId).style.display = "flex";
    document.getElementById(elemId).style.flexDirection = "row-reverse";
  }
};

if (b == 2) {
    responsiveAlignment("elec");
    window.addEventListener('resize', responsiveAlignment("elec"));
} else if (b == 3) {
  responsiveAlignment("enter");
  window.addEventListener('resize', responsiveAlignment("enter"));
} else {
  responsiveAlignment("acce");
  window.addEventListener('resize', responsiveAlignment("acce"));
}

//Sorting

accPicContainer = document.getElementById("accPic-container"),
elePicContainer = document.getElementById("elePic-container"),
entPicContainer = document.getElementById("entPic-container"),
figuresAcc = accPicContainer.querySelectorAll("figure"),
figuresEle = elePicContainer.querySelectorAll("figure"),
figuresEnt = entPicContainer.querySelectorAll("figure"),
originalAcc = accPicContainer.innerHTML;
originalEle = elePicContainer.innerHTML;
originalEnt = entPicContainer.innerHTML;


$(document).ready(function () {
  $(".list").click(function () {
    var value = $(this).attr("data-filter");
    accPicContainer.innerHTML = originalAcc;
    elePicContainer.innerHTML = originalEle;
    entPicContainer.innerHTML = originalEnt;
    if (value == "all") {
      $(".itemBox").show("1000");
    }
    else if(value == "priceLowToHigh"){
      if(b==2){
        sortUs("#elePic-container","figure",".img-price",true);
        $(".itemBox").show("1000");
      }
      else if(b==3) {
        sortUs("#entPic-container","figure",".img-price",true);
        $(".itemBox").show("1000");
      }
      else {
      sortUs("#accPic-container","figure",".img-price",true);
      $(".itemBox").show("1000");
      console.log(document.getElementsByClassName("itemBox"));
      }
    }
    else if(value == "priceHighToLow"){
      if(b==2){
        sortUs("#elePic-container","figure",".img-price", false);
      }
      else if(b==3) {
        sortUs("#entPic-container","figure",".img-price", false);
      }
      else {
      sortUs("#accPic-container","figure",".img-price", false);
      }
      $(".itemBox").show("1000");

    }
    else {
      $(".itemBox")
        .not("." + value)
        .hide("3000");
      $(".itemBox")
        .filter("." + value)
        .show("3000");
    }
  });

  $(".list").click(function () {
    $(this).addClass("active").siblings().removeClass("active");
  });
});


function sortUs(parent, child, key, asc) {
  if(b==2){
    figures = figuresEle.length;
  }
  else if(b==3) {
    figures = figuresEnt.length;
  }
  else {
    figures = figuresAcc.length;
  }
	var items = Array.prototype.slice.call(document.querySelectorAll(parent + " " + child)).sort(function(a, b) {
		var comparA = a.querySelector(key).innerHTML;
    comparA = parseInt(comparA.substr(1,));
		var comparB = b.querySelector(key).innerHTML;
    comparB = parseInt(comparB.substr(1,));
    if (asc==true){
		return (comparA < comparB) ? -1 : (comparA > comparB) ? 1 : 0;
    }
    return (comparA < comparB) ? 1 : (comparA > comparB) ? -1 : 0;
	});

	for (var i = 0; i < figures; i++) {
    if(b==2){
      elePicContainer.appendChild(items[i]);
    }
    else if(b==3){
      entPicContainer.appendChild(items[i]);
    }
    else {
		accPicContainer.appendChild(items[i]);
    }
	}
}